# linux

- centos 7 升级内核, 一些软件或者驱动（如网卡驱动）需要高版本内核

 参考[这里](https://blog.csdn.net/fenglailea/article/details/88740961)

  ```sh
  # 添加elrepo源，elrepo包含了许多硬件相关的软件包的rpm软件仓库
  # 首先倒入public key
  rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
  # 参考http://elrepo.org/tiki/tiki-index.php选择对应系统版本的源
  rpm -Uvh https://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm
  
  # 查看可升级的内核
  yum --disablerepo="*" --enablerepo="elrepo-kernel" list available
  
  # 安装最新内核
  yum --enablerepo=elrepo-kernel install kernel-ml
  
  # 更新内核
  grub2-mkconfig -o /boot/grub2/grub.cfg
  
  # 查看系统中的内核
  cat /boot/grub2/grub.cfg |grep menuentry
  
  if [ x"${feature_menuentry_id}" = xy ]; then
    menuentry_id_option="--id"
    menuentry_id_option=""
  export menuentry_id_option
  menuentry 'CentOS Linux (5.5.5-1.el7.elrepo.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-5.5.5-1.el7.elrepo.x86_64-advanced-a2c5cb57-ab41-44c2-b7f8-e3981fc2582d' {
  menuentry 'CentOS Linux (3.10.0-1062.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-1062.el7.x86_64-advanced-a2c5cb57-ab41-44c2-b7f8-e3981fc2582d' 
  
  # 然后根据上一步查看到的内核CentOS Linux (5.5.5-1.el7.elrepo.x86_64) 7 (Core)设置
  grub2-set-default "CentOS Linux (5.5.5-1.el7.elrepo.x86_64) 7 (Core)"
  
  # 重启即可看到新更新的内核
  reboot
  ```
  
- centos 7 安装 Intel `Wi-Fi 6 AX200 160MHz`无线网卡驱动

  [官网](https://www.intel.cn/content/www/cn/zh/support/articles/000005511/network-and-i-o/wireless-networking.html
  上说该网卡要求内核在5.1以上,在升级完内核后，[下载](https://wireless.wiki.kernel.org/_media/en/users/drivers/iwlwifi/iwlwifi-cc-46.3cfab8da.0.tgz)
  驱动，然后按照README中的步骤安装即可
  
  ```sh
  cp iwlwifi-cc-a0-46.ucode /lib/firmware
  ```

- ubuntu 添加 aliyun 源
  
  ```sh
  # 备份原有文件
  mv /etc/apt/sources.list /etc/apt/sources.list.backup
  
  # 新建文件，添加源
  touch /etc/apt/sources.list
  
  deb-src http://archive.ubuntu.com/ubuntu xenial main restricted # Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe # Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe # Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial universe
  deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
  deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse
  deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse
  deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse # Added by software-properties
  deb http://archive.canonical.com/ubuntu xenial partner
  deb-src http://archive.canonical.com/ubuntu xenial partner
  deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted
  deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe # Added by software-properties
  deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
  deb http://mirr.iyun.com/ubuntu/ xenial-security multiverse
```

- ubuntu 安裝 R
  
  参考https://cran.r-project.org/bin/linux/ubuntu/README.html
  ```sh
  # 添加源
  deb https://cloud.r-project.org/bin/linux/ubuntu xenial-cran35/
  # 密匙
  sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
  sudo apt-get update
  sudo apt-get install r-base r-base-dev
  ```

- 虚拟机安装ubuntu后切换工作区快捷键`ctrl + alt + 方向键`，上下方向键可正常切换，而左右方向键切换不了

  因为虚拟机中`ctrl + alt + 左右方向键`在VMware中用于切换全屏虚拟机，修改VMware切换全屏
虚拟机快捷键即可，如`ctrl + shit + 左右方向键`

- 虚拟机ubuntu非正常关机后，再打开黑屏

  方法参考[这里](https://www.zhihu.com/question/66422773/answer/245081019), 重置LSP
  `netsh winsock reset`